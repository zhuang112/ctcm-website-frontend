# PROJECT_TODO：中台世界 Headless 專案任務列表

> 說明：本檔列出本專案各個 T-xxxx 任務的狀態與簡要說明。  
> - 所有實作與測試狀態以 GitHub/main 為準。  
> - 每顆 T 的詳細過程與 RAW 連結請參考 `docs/Windsurf_ChatGPT_NOTES.md`。  
> - 新任務請依 `docs/INSTR/INSTR-TEMPLATE.md` 撰寫 INSTR，再由 ChatGPT 產生任務內容。

---

## TODO 列表（原始三項）

### 1. ??@ crawl ?u??]?w?????d??^

- ???A?G? ????
- ?????G
  - ???G
    - `tools/crawl/crawl-ctworld.ts`
    - `tools/crawl/filesystem-inventory.ts`
    - `tools/crawl/diff-crawl-vs-files.ts`
    - `package.json`?]scripts: `crawl:ctworld` / `inventory:fs` / `diff:crawl-vs-fs`?^
  - ?W??G
    - `docs/crawl-and-inventory.md`
    - `docs/CRAWL_TOOLS_SETUP.md`
  - ?\??K?n?G
    - ?q `https://www.ctworld.org` ?P `/sitemap.htm` ?X?o?? BFS ???�TA?u?O?d `ctworld.org` / `ctworld.org.tw` ???C
    - ???X?G
      - `data/crawl/crawled-urls.json` / `crawled-urls.csv`?]?u?W???�`??G?^
      - `data/crawl/all-files.json` / `all-files.csv`?]???? docroot inventory?^
      - `data/crawl/missing-from-crawl.csv` / `extra-from-crawl.csv`?]?t??????^
  - ???\???d??]?w?????A???????^?G
    - ??? `tools/crawl/*.ts` ??????@??`?P CLI ????R?A????? public API ?P scripts ?W??C
  - ?�_?�D?G
    - ??b???????\????G
      - `npm run crawl:ctworld`
      - `npm run inventory:fs`
      - `npm run diff:crawl-vs-files`
    - ???X?? JSON / CSV ??�Z??X `crawl-and-inventory.md` ?W??C
  - ?t?d?H?GChatGPT?]?W?????[?^?? Windsurf?]??@?^?? ?A?]??X?P?�_?^

---

### 2. ??@ HTML??AnyContent?Gteaching

- ???A?G? v1 ?w?????]?w?? teaching-from-legacy + teaching-html-to-anycontent.ts?F?????u??t?}???^
- ?????G
  - ?D?n???]?w?s?b?^?G
    - `tools/convert/teaching-html-to-anycontent.ts`
    - `src/adapters/teaching-from-legacy.ts`
    - `src/types/anycontent-teaching.ts`
  - ?W??G
    - `docs/HTML_TO_MARKDOWN_RULES_V4.md`
    - `docs/CONTENT_SCHEMA.md`
    - `docs/COMPLETE_PROJECT_WORKFLOW.md`?]????y?{?^
  - ?\??G
    - ?N teaching ???? HTML ?? `TeachingContent` / `AnyContent` JSON?G
      - ???T?B?z???D???h?B?D??q???B??�fP?C??C
      - ?????e????U?y???A??J `ct_verse_block_markdown` ???U?y???????C
      - ?????W?h??J `featured_image`?B`featured_image_caption`?B`gallery_items[]`?C
  - ????G
    - `tests/adapters/teaching-from-legacy.spec.ts`
    - `tests/html/html-to-markdown.spec.ts`?]?[?\ sutra ?W?h?^

---

### 3. ??@ zh-TW ?? zh-CN pipeline

- ???A?G? ?????]?N?��?h?? T ???AT-0013 ???t?d docs ?W??^
- ?????G
  - ?w?p???G
    - `tools/convert/generate-zh-cn-from-zh-tw.ts`
  - ?W??G
    - `docs/ZH_TW_TO_ZH_CN_PIPELINE.md`
    - `docs/CONTENT_SCHEMA.md`?]???P `Language` ?w?q?^
  - ?\??G
    - ??? zh-TW ?? AnyContent JSON?]??p `data/zh-tw/**/*.json`?^?C
    - ??? OpenCC?]?�`???u??^????w????c??2???G
      - ?]?t `post_title`, `post_excerpt`, `body_markdown`?A?H?�Xh????? `meta` ?P `seo` ??????C
    - ?????GID / URL / ??r / enum ?????P `external_id`?C
    - ??X???? zh-CN JSON?A?u??? `multilingual` ???p??T???T?C
  - Windsurf ??�f????G
    - ???@ `generate-zh-cn-from-zh-tw.ts` ?????w TODO ???C
    - ????? `Language` union ?? `AnyContent` schema?F????W???H docs ????C
  - ?�_?�D?]??w?^?G
    - ??�V?q zh-TW JSON ?d??A??d zh-CN ?????G
      - ??r?w???T??2??C
      - ???c?]???????O?^?P???????@?P?C
      - ID / URL / enum ???Q?~??C
  - ????G
    - ?????????? pipeline ???A??@?N?��?h?? T ???]?p T-0013 ?W??]?p?BT-0014 ?{????@ v1 ???^?C?????s?W T-0013?A?M?` docs ?W??A????{???X?C

---

## T 系列任務（依 ChatGPT 產生）

> T-XXXX 以 ChatGPT 提供的任務說明為準，並由實作 Agent（目前主要是 Codex）依指令實作與回報。

### T-0001 teaching-from-legacy: ?N htmlToMarkdown ?? verses ?M?g?? TeachingMeta ?U?y???]?w?????^

> 狀態：請參考 notes（歷史條目，狀態以最新 notes 為準）
- ???A?G
  - ?w?? Windsurf ?b 2025-12-08 ?????? teaching-from-legacy ???U?y???M?g??@?C
  - ????????]`tests/adapters/teaching-from-legacy.spec.ts`?^?w?s?W?oq?L?C
- ?????{????G
  - `src/html/html-to-markdown.ts`
  - `src/html/legacy-html-types.ts`
  - `src/types/anycontent-teaching.ts`
  - `src/adapters/teaching-from-legacy.ts`
- ????????G
  - `tests/html/html-to-markdown.spec.ts`
  - `tests/adapters/teaching-from-legacy.spec.ts`
- ?????????P?????G
  - ``docs/Windsurf_ChatGPT_NOTES.md``
  - `docs/terminal_logs/T-0001_teaching-from-legacy_vitest_fail.txt`
  - `docs/terminal_logs/T-0001_teaching-from-legacy_vitest_pass.txt`
- ???G?K?n?G
  - `htmlToMarkdown` ?M?? sutra ?W?h?|?N?U?y?????? `verses: string[]`?C
  - `teaching-from-legacy` adapter ?|??? `verses` ?]?w TeachingMeta ???U?y???G
    - `ct_has_dharma_verse`
    - `ct_verse_block_markdown`
    - `ct_verse_type`
    - `ct_verse_lang`
  - ???}?a?J?? TeachingContent / AnyContent schema contract?C

---

### T-0002 AnyContent ??L post_type ???O?Gnews / magazine contract?]?w?????^

> 狀態：請參考 notes（歷史條目，狀態以最新 notes 為準）
- ???A?G
  - ?w?? Windsurf ??? T-0002 ?W??????@?A?oq?L TypeScript ???O??d?C
- ?s?W / ??s?????O??G
  - `src/types/anycontent-teaching.ts`
  - `src/types/anycontent-news.ts`
  - `src/types/anycontent-magazine.ts`
  - `src/types/anycontent.ts`
- ???W?????G
  - `docs/PROJECT_TODO.md`?]T-0002 ?q???^
  - `docs/CONTENT_SCHEMA.md`
- ?????????P?????G
  - ``docs/Windsurf_ChatGPT_NOTES.md``
  - `docs/terminal_logs/T-0002_anycontent_types_tsc_pass.txt`
- ???G?K?n?G
  - AnyContent ?? contract ???O?{?w?]?t teaching / news / magazine ?T?? post_type?C
  - news / magazine ?? meta / content ???O?w???T?w?q?A???}?a?J?? `Language` union ?P `AnyContentBase`?C

---

### T-0003 news-from-legacy: ??? NewsContent adapter ???[?]minimal mapping?^?]?w?????^

> 狀態：請參考 notes（歷史條目，狀態以最新 notes 為準）
- ???A?G
  - ?w?? Windsurf ??? T-0003 ?W??????@?A?oq?L Vitest ????C
- ?s?W / ??s???{????G
  - `src/html/html-to-markdown.ts`
  - `src/html/legacy-html-types.ts`
  - `src/types/anycontent-teaching.ts`
  - `src/types/anycontent-news.ts`
  - `src/types/anycontent-magazine.ts`
  - `src/types/anycontent.ts`
  - `src/adapters/teaching-from-legacy.ts`
  - `src/adapters/news-from-legacy.ts`
- ?s?W / ??s????????G
  - `tests/html/html-to-markdown.spec.ts`
  - `tests/adapters/teaching-from-legacy.spec.ts`
  - `tests/adapters/news-from-legacy.spec.ts`
- ???P?y?{??????G
  - `docs/WORKFLOW_CHATGPT_GITHUB_AGENT.md`
  - `docs/PROJECT_TODO.md`
  - ``docs/Windsurf_ChatGPT_NOTES.md``
- ???????O??d?P???? log?G
  - `docs/terminal_logs/T-0001_teaching-from-legacy_vitest_fail.txt`
  - `docs/terminal_logs/T-0001_teaching-from-legacy_vitest_pass.txt`
  - `docs/terminal_logs/T-0002_anycontent_types_tsc_pass.txt`
  - `docs/terminal_logs/T-0003_news-from-legacy_vitest_pass.txt`
- ???G?K?n?G
  - ?w?? minimal ?????? `news-from-legacy` adapter ?P????????A??q legacy HTML + htmlToMarkdownResult ?????? `NewsContent`?C
  - teaching / news / magazine adapter / ???O???????p?w??B??_?A????i?v?B?X?R news ??????B?a?I????? mapping?C

---

### T-0004 magazine-from-legacy: ??? MagazineContent adapter ???[?]minimal mapping?^?]?w?????^

> 狀態：請參考 notes（歷史條目，狀態以最新 notes 為準）
- ???A?G
  - ?w?? Windsurf ??? T-0004 ?W??????@?A?oq?L TypeScript ???O??d?P Vitest ????C
- ?s?W / ??s???{????G
  - `src/html/html-to-markdown.ts`
  - `src/html/legacy-html-types.ts`
  - `src/types/anycontent-teaching.ts`
  - `src/types/anycontent-news.ts`
  - `src/types/anycontent-magazine.ts`
  - `src/types/anycontent.ts`
  - `src/adapters/teaching-from-legacy.ts`
  - `src/adapters/news-from-legacy.ts`
  - `src/adapters/magazine-from-legacy.ts`
- ?s?W / ??s????????G
  - `tests/html/html-to-markdown.spec.ts`
  - `tests/adapters/teaching-from-legacy.spec.ts`
  - `tests/adapters/news-from-legacy.spec.ts`
  - `tests/adapters/magazine-from-legacy.spec.ts`
- ???P?y?{??????G
  - `docs/WORKFLOW_CHATGPT_GITHUB_AGENT.md`
  - `docs/PROJECT_TODO.md`
  - ``docs/Windsurf_ChatGPT_NOTES.md``
- ???????O??d?P???? log?G
  - `docs/terminal_logs/T-0001_teaching-from-legacy_vitest_fail.txt`
  - `docs/terminal_logs/T-0001_teaching-from-legacy_vitest_pass.txt`
  - `docs/terminal_logs/T-0002_anycontent_types_tsc_pass.txt`
  - `docs/terminal_logs/T-0003_news-from-legacy_vitest_pass.txt`
  - `docs/terminal_logs/T-0004_magazine-from-legacy_tsc_pass.txt`
  - `docs/terminal_logs/T-0004_magazine-from-legacy_vitest_pass.txt`
- ???G?K?n?G
  - ?w?? minimal ?????? `magazine-from-legacy` adapter ?P????????A??q legacy HTML + htmlToMarkdownResult ?????? `MagazineContent`?C
  - teaching / news / magazine ?T?? post_type ?? adapter ???[???w?????A?i???O?b????????v?B?????? mapping?C

---

### T-0013 zh-tw-to-zh-cn-pipeline-design: ?w?q????W??P CLI ?W??]docs first?^

> 狀態：請參考 notes（歷史條目，狀態以最新 notes 為準）
> ???A?G? ?w?????]docs ?W????A????@?{???X?A2025-12-12?^

- ???G
  - ?N `docs/ZH_TW_TO_ZH_CN_PIPELINE.md` ????i?H??@???{??G
    - ???T?C?X?u?n???c??2????????W??v?P?u???????????v?C
    - ???M?? pipeline ????J????P??X??m?]???????c???]?i?H?O??w???^?C
    - ?w?q?@?? CLI ?u??]?w?p `tools/convert/generate-zh-cn-from-zh-tw.ts`?^?????P??�V�D?C
  - ??????? TypeScript ?{???X?A?u?? docs?C

- ???p docs?G
  - `docs/ZH_TW_TO_ZH_CN_PIPELINE.md`
  - `docs/CONTENT_SCHEMA.md`
  - `docs/PROJECT_STATUS.md`?]??e??O zh-TW??zh-CN ?|????@?^

- ?????????G
  - `docs/ZH_TW_TO_ZH_CN_PIPELINE.md`?G??? pipeline ?]?p??`?]?w?????????^?C
  - `docs/PROJECT_TODO.md`?G????????P??l?? 3 ???????C

- ?�_?�D?G
  - ?? ChatGPT ?\? `docs/ZH_TW_TO_ZH_CN_PIPELINE.md`?A?T?{?G
    - ?i?M?????D???@?????n???B???@????????C
    - ???D CLI ?u??w?p???I?s?]?t input/output ???M??�hd??^?C
    - ???D pipeline ?w??????X?????c?]??W / language ??? / multilingual ???p???????^?C
  - `PROJECT_TODO.md` ?? T-0013 ???A??s?? ??A??2?u?y?z?????????????e?C

---

### T-0014 zh-tw-to-zh-cn-pipeline-core-and-cli-skeleton: ??@???????CLI ??[?]?t dry-run?^

> 狀態：請參考 notes（歷史條目，狀態以最新 notes 為準）
> ???A?G? ?w?????]??????P CLI skeleton?A2025-12-12?^

- ???G
  - ??@?c??2?????P CLI ???[?G
    - ??? `convertToZhCn(text: string)` utility?]opencc-js ?�`????@?^?C
    - ??? `tools/convert/generate-zh-cn-from-zh-tw.ts` CLI?A?? `--input` / `--output` / `--dry-run`?C
    - dry-run ?????C?X?w?p?B?z???A???g??F?????????X zh-CN JSON?C
  - ????????{?????[?P logging?F??i?@?B?????????d?????? T ???C

- ???p???G
  - `src/i18n/zh-tw-to-zh-cn.ts`
  - `tests/i18n/zh-tw-to-zh-cn.spec.ts`
  - `tools/convert/generate-zh-cn-from-zh-tw.ts`
  - `package.json`
  - `docs/PROJECT_TODO.md`
  - ``docs/Windsurf_ChatGPT_NOTES.md``

- ?�_?�D?G
  - `convertToZhCn` ?i?N?�w?c????]?p?u?O?W?v?^??2??]?p?u?x??v?^?C
  - CLI ?i?] dry-run ?C?X??X??|?F???`????i?N??J????? JSON ?????????X??]????????Y?i?^?C
  - ???????��????]?????\ convertToZhCn?^?A?��s?W `npm run convert:zh-cn` ?K??I?s?C

---

### T-0015 zh-tw-to-zh-cn-pipeline-write-json: ?N AnyContent JSON ?? zh-CN ?g??

> 狀態：請參考 notes（歷史條目，狀態以最新 notes 為準）
> ???A?G? ?w?????]transform + CLI ?g??A2025-12-12?^

- ???G
  - ???? `transformAnycontentZhTwToZhCn`?]?? pipeline docs ??????W??^?C
  - ?? `tools/convert/generate-zh-cn-from-zh-tw.ts` ?? dry-run ?P????X zh-CN JSON?C
  - ??W??????]?????\ transform?^?C

- ??????G
  - `src/i18n/zh-tw-to-zh-cn-pipeline.ts`
  - `tools/convert/generate-zh-cn-from-zh-tw.ts`
  - `tests/i18n/zh-tw-to-zh-cn-pipeline.spec.ts`
  - `package.json`?]?}??/???^
  - `docs/PROJECT_TODO.md`
  - ``docs/Windsurf_ChatGPT_NOTES.md``

- ?�_?G
  - `npx vitest tests/i18n/zh-tw-to-zh-cn-pipeline.spec.ts`
  - dry-run ?d??G`npm run convert:zh-cn -- --input data/anycontent/zh-tw --output data/anycontent/zh-cn --dry-run`
  - ?T?{??X JSON ?y???? zh-cn?A??W?????w???C

---

### T-0016 zh-cn-health-check-tool: zh-TW / zh-CN JSON ???d??d CLI

> 狀態：請參考 notes（歷史條目，狀態以最新 notes 為準）
> ???A?G? ?|???}?l

- ???G
  - ??@?@?? CLI?]?? Node script?^?A?�Z??? zh-TW / zh-CN JSON ?O?_???G
    - ???y `data/anycontent/zh-tw` ?P `data/anycontent/zh-cn`?]?i???^?C
    - ??d?G
      - zh-TW ???? zh-CN ??????M??C
      - zh-CN ???? zh-TW ??????M??C
      - ?i???@?P?????]?p language ???O zh-cn ???^?C
    - ???X log ?�^???A????????C
  - ?P?J?? zh-TW??zh-CN pipeline ???A??K??|?C

- ???p???G
  - `docs/PROJECT_TODO.md`
  - ``docs/Windsurf_ChatGPT_NOTES.md``
  - ?]?w?p?^`tools/convert/generate-zh-cn-from-zh-tw.ts` ?�bs CLI

- ?�_?�D?G
  - ?s?W `npm run check:zh-cn`?]?�`?????O?^?i?????d??d?C
  - ???X??|?�V??@?P?????/???K?n?]dry-run ????Y?i?^?C
  - notes ?O?????P RAW ?s???C

---

### T-0027 fix-opencc-types-and-build?G??_ opencc-js ???O???? npm run build ?q?L

> 狀態：請參考 notes（歷史條目，狀態以最新 notes 為準）
> ???A?G? ?w?????]?w?? @types/opencc-js?Anpm run build ?q?L?A2025-12-12?^

- ???G
  - ???? `opencc-js` ????O??P?? TS7016?A?? `npm run build` ?i?H???Q?q?L?C
  - ?T?O zh-TW??zh-CN pipeline ???}?o?????Abuild/type-check ?????_?C
  - ?b docs ?O????????k?A?Y?????n?i?A???w?q???O??C

- ?�_?�D?G
  - [x] ?w?? `@types/opencc-js`?]?�W??n??s?W `src/types/opencc-js.d.ts`?^??A`npm run build` ???A?X?{ `opencc-js` ???O???~?C
  - [x] ???????P??|?w?O???b ``docs/Windsurf_ChatGPT_NOTES.md`` ?? T-0027 ?p?`?C

---

### T-0017 html-to-markdown-rules-cleanup: ??z HTML??Markdown ?W?h???

> 狀態：請參考 notes（歷史條目，狀態以最新 notes 為準）
> ???A?G? ?w?????]V4 ?W?h??z?A2025-12-12?^

- ???G
  - ???g?t?z `docs/HTML_TO_MARKDOWN_RULES_V4.md`?A???@?�^W?h?P????????M???i???@?C
  - ??z?G?????????B???/?????B?s??/???I?B????]featured / gallery / fallback?^?C
  - ??O?U post_type ?`?N????]teaching sutra ?U?y?????Bnews ?D???gallery?B??L?H2??????^?C
- ?�_?G
  - `HTML_TO_MARKDOWN_RULES_V4.md` ?? UTF-8 ???`?i??B???c?M???C
  - ???T???X?GMarkdown ???O?J `![]()`?A????u?????? JSON?F?L?i?�d????T????M??C
  - notes ?w?O?????????P RAW ?s???C

---

### T-0018 meta-instr-and-status-structure: ??z INSTR ?P???A???????c

> 狀態：請參考 notes（歷史條目，狀態以最新 notes 為準）
> ???A?G? ?w?????]???? INSTR?B?? README/Template?A2025-12-12?^

- ???G
  - ?N??? INSTR ??????? `docs/INSTR/`?A?R?W?W?h `INSTR-T-xxxx-<slug>.md`?]????q?�Wi?? 0000?^?C
  - ?s?W `docs/INSTR/README.md` ?????�^~?B?R?W?P?{???C??F?s?W ``docs/INSTR/INSTR-TEMPLATE.md`` ??s?W INSTR ???s?C
  - ?b notes ???? INSTR ???e? RAW ?s???C
- ?�_?G
  - `docs/INSTR/` ???t README?BTemplate?A?H?�Vw?h???B??R?W?W?h?? INSTR ??C
  - ``docs/Windsurf_ChatGPT_NOTES.md`` ?? T-0018 ?p?`?A?C?X???P RAW ?s???C
  - ???????w git add/commit/push?C

---

### T-0019 enforce-utf8-encoding: ?j???r???? UTF-8 + LF

> 狀態：請參考 notes（歷史條目，狀態以最新 notes 為準）
> ???A?G? ?w?????]2025-12-12?^

- ???G
  - ?z?L `.editorconfig` / `.gitattributes` ?T?O??r??@?? UTF-8?B??? LF?C
  - ?b workflow ?????? Windows ????p????K Big5/ANSI ?yX?C
  - ?b notes ?d?s RAW ?s???P commit ?????C
- ?�_?G
  - ?M???? `.editorconfig` / `.gitattributes`?A???e?]?w?? UTF-8 + LF?C
  - `docs/WORKFLOW_CHATGPT_GITHUB_AGENT.md` ????s?X/????W?h?C
  - notes ?? T-0019 ?p?`?e? RAW ?s???C

---

### T-0005 news-from-legacy: ?M?g NewsMeta ????P?a?I???]v1?^

> 狀態：請參考 notes（歷史條目，狀態以最新 notes 為準）
> ???A?G? ?w?????]news meta ????P?a?I mapping v1?A2025-12-10 ?w?q?L????^

- ???G
  - ?b?J?? `news-from-legacy` ???[?W?A??@??@????????P?a?I??? mapping?A
    ?? `NewsMeta` ?????J?u?s?D????v?P?u?????? / ?a?I?v??????T?C

- ???p docs?G
  - `docs/CONTENT_SCHEMA.md`
    - NewsMeta / NewsContent ?q??
  - `docs/HTML_TO_MARKDOWN_RULES_V4.md`
    - ?P news ?????????? HTML ???c?P?? Markdown ?W?h?]?Y???^
  - `docs/COMPLETE_PROJECT_WORKFLOW.md`
    - HTML ?? Markdown ?? AnyContent ?y?{
  - ``docs/Windsurf_ChatGPT_NOTES.md``
    - ??b???????????R????R????O?P selector

- ?n??s?????G
  - `src/adapters/news-from-legacy.ts`
  - `tests/adapters/news-from-legacy.spec.ts`

- ?W??K?n?]v1 ?d??^?G
  - ?H??e??`???B??e????R?? news ??O???D?A?????@?p?????d??????Y?i?C
  - ?q legacy HTML ?? htmlToMarkdownResult ???A?????R?G
    - `meta.ct_news_date`
    - `meta.ct_event_date_start`
    - `meta.ct_event_date_end`
    - `meta.ct_event_date_raw`
    - `meta.ct_event_location`
  - ???????? Windsurf ?b?{??????@?ab ``docs/Windsurf_ChatGPT_NOTES.md`` ?????A??p?G
    - ?w??S?w container / class?]?p `.news-date` / `.article-info`?^??R??r?C
    - ?�Xb Markdown ???M??u????G?v?u?a?I?G?v???e???A??2?��?r????�TC
  - ?L?k?i?a??R?????????? `null` / ????A??K?oq?G
    - ??p?u???@??u2022-03-14?v??A?i?H?P???J `ct_news_date` ?P `ct_event_date_start`?A????b notes ???????C

- ???\????d??G
  - ???? `news-from-legacy.ts` ???P `NewsMeta` ???????????C
  - ?i?H??????s?W??q fixture / helper?A?�[???N???? `LegacyHtmlDocument` / `HtmlToMarkdownResult`?C
  - ???i???G
    - `NewsMeta` / `NewsContent` ?????W??P???O?C
    - `Language` union?B`AnyContentBase` ???c?C

- ?�_?�D?G
  - ?s?W / ?X?R `tests/adapters/news-from-legacy.spec.ts`?G
    - ???[?J 1?V2 ??N???? news ??????A?_??????P?a?I????T??J?C
  - ??????O?G
    - ????G
      - `npx vitest tests/adapters/news-from-legacy.spec.ts`
    - ???M??G
      - `npx vitest`
  - TypeScript ???O??d??q?L?G
    - `npm run typecheck`?]?Y?s?b?^
    - ?? `npx tsc --noEmit`

---

## ??�V�D


---

### T-0006 legacy-data-root: ?��????L?I?P CTWORLD_LEGACY_ROOT ????]??????o?????^

> 狀態：請參考 notes（歷史條目，狀態以最新 notes 為準）
> ???A?G???��????????????o??A????]??e??w???n?O?u?@????^

- ??o????G
  - ?w?q?D??????�Lt?�Z??o?????��????]HTML / ??? / PDF ???^?C

- ???G
  - ?b????????w storage ?]?w `CTWORLD_LEGACY_ROOT`?]??????^?A?@???��????????C
  - ???????��???????????c?A?????u?{?p?v?A????O?j?????c?C
  - ?b docs ???s?W?@?p?`?A?y?z?G
    - `CTWORLD_LEGACY_ROOT` ??????????|?]??p???? / NAS / S3?^?C
    - ??e?��?????????????c?]??r?y?z?�hd?????Y?i?^?C
  - ??????��??????j?W??h???�Y?W?F?Y?????n refactor?A?t?}?s?? T ???B?z?C

- ???p docs?G
  - `docs/COMPLETE_PROJECT_WORKFLOW.md`?G??R?ulegacy ??????v?????p?`?C
  - `docs/PROJECT_TODO.md`?G????????????C
  - ?]??�T^?Y????n?A?i?s?W `docs/LEGACY_DATA_NOTES.md` ???????`?C

- ?????????G
  - `docs/COMPLETE_PROJECT_WORKFLOW.md`?G?s?W????s?@?p?`?y?z `CTWORLD_LEGACY_ROOT` ?P???????m?C
  - `docs/PROJECT_TODO.md`?G??O?????? ? ?o?R????[?��?G?K?n?C
  - ?]??�T^`docs/LEGACY_DATA_NOTES.md`?G?Y?????c?S?O?????A?i?b????z?C

- ???\????d??G
  - ????W?z docs?A?P??@ pipeline ?L?????????C
  - ?????��????????h???????R?W?F??????@??t?}?M?? T ???C

### T-0010 rename-workflow-file: ?N workflow ??W?? Agent ???????

> 狀態：請參考 notes（歷史條目，狀態以最新 notes 為準）
> ???A?G? ?w?????]??W?w?? `docs/WORKFLOW_CHATGPT_GITHUB_AGENT.md`?A2025-12-10?^

- ???G
  - ?N workflow ???W?? `docs/WORKFLOW_CHATGPT_GITHUB_AGENT.md`?]???N?? windsuf ???R?W?^?C
  - ??s???M???�Z?s??W?A???H?u??@ Agent?]??e?D?n?O Codex?^?v???D?C
- ???????G
  - `docs/WORKFLOW_CHATGPT_GITHUB_AGENT.md`
  - `docs/COMPLETE_PROJECT_WORKFLOW.md`
  - `docs/TOOLS_ROLES_AND_BOUNDARIES.md`
  - `docs/SESSION_CHECKLIST.md`
  - ``docs/Windsurf_ChatGPT_NOTES.md``
  - ??L???? workflow ??W?????
- ?@?k?K?n?G
  - ?z?L `git mv` ?N?? workflow ???W?? `docs/WORKFLOW_CHATGPT_GITHUB_AGENT.md`
  - ??s????????W??�TA?ab?s???}?Y?[?J??W???O?C
- ?�_?G
  - [x] repo ???u??s??W?A????W???A?X?{?????t?�[�V?r???e?C
  - [x] ???? docs ???? `docs/WORKFLOW_CHATGPT_GITHUB_AGENT.md`?C
  - [x] ???????A??O?? ? ?eO???s??W?C

### T-0011 fix-corrupted-docs: ??_?yX docs ?o�V@?? UTF-8

> 狀態：請參考 notes（歷史條目，狀態以最新 notes 為準）
> ???A?G? ?|???}?l

- ???G
  - ?N??e repo ???X?{?yX???X?? docs ??_?????`?? UTF-8 ???e?A?T?O???? ChatGPT / ??@ Agent ?H?o????????@?u????????|?~?P?C
  - ??_??H?w???]?t?G
    - `docs/PROJECT_STATUS.md`
    - `docs/AI_COLLAB_SUMMARY.md`
    - `docs/COMPLETE_PROJECT_WORKFLOW.md`
    - `docs/PENDING_DECISIONS.md`
    - `docs/SESSION_CHECKLIST.md`
    - `docs/TOOLS_ROLES_AND_BOUNDARIES.md`

- ???p????]?u?????????^?G
  - ??????N?W?z?????u???`?????v?W??? ChatGPT?]??? ChatGPT ?? /mnt/data?^?C
  - ?Y???e?A?????? ChatGPT ?????s?????e?A?A?i??p?T???C

- ?????????G
  - ?H?W?C?X?????? docs ???C

- ???\???d??G
  - ???\??????\???e?]?H???` UTF-8 ???????N?yX?????^?C
  - ?i?p?T????r?A????P??e?M??????A?@?P?A?????o?H?N?R?��?n???`?C
  - ????????W?P????q?????c???j??V?]???D?g ChatGPT ????a????T?{?^?C

- ?�_?�D?G
  - ?b??r?s?????H UTF-8 ?}??W?z???A?T?{?G
    - ?????A?X?{?j?q?u��v?u???v???yX?C
    - ?q???P???D????i?z?????M?y?y?C
  - ?? ChatGPT ?A???\??o?? docs?A?T?{?i?H?�Z?P?_?M??i??P?u?@?y?{?C
  - ??????w??? workflow?G
    - `git add` ???????C
    - `git commit -m "T-0011 fix corrupted docs to UTF-8"`?]?T???i?L??^?C
    - `git push` ?? `origin/main`?C
    - ?b ``docs/Windsurf_ChatGPT_NOTES.md`` ?s?W?@?p?`?????????P??? commit hash?C

### T-0012 sync-status-docs: ??? PROJECT_TODO / PROJECT_STATUS ?P???i??

> 狀態：請參考 notes（歷史條目，狀態以最新 notes 為準）
> ???A?G? ?|???}?l

- ???G
  - ?? `docs/PROJECT_TODO.md` ?P `docs/PROJECT_STATUS.md` ?u???M??e repo ????@???A?A
    ?????? ChatGPT / ??@ Agent / ??????????{?????t?C

- ???p docs?G
  - `docs/PROJECT_TODO.md`
  - `docs/PROJECT_STATUS.md`
  - ?]???^``docs/Windsurf_ChatGPT_NOTES.md``
  - ?]???^`docs/AI_COLLAB_SUMMARY.md`

- ?????�O?e?G
  - `docs/PROJECT_TODO.md`?G
    - ?? **T-0005 news-from-legacy** ?s?W???A??A??p?G
      - `> ???A?G? ?w?????]news meta ????P?a?I mapping v1?A2025-12-10 ?w?q?L????^`
    - ?b?u??l?T?? TODO?v???G
      - teaching HTML??AnyContent ??????A??R??e?w??????@?]`teaching-from-legacy` + `teaching-html-to-anycontent.ts`?^?A
        ?o????p?N???A??s???u???????? / v1 ?????v?C
    - ?T?{ T-0006 / T-0010 ????z?P?????p?@?P?]T-0010 ?w?????BT-0006 ???????��?????^?C
  - `docs/PROJECT_STATUS.md`?G
    - ?H??e repo ???A???g?@???u?`???v?A?i?H??H?U?????g?G
      - ???�fP inventory?GV1 ?????C
      - HTML??Markdown + sutra ?W?h?GV1 ?????Asutra ?M?�^W?h?w?W?u?C
      - teaching / news / magazine adapters?G??? minimal v1?A?B teaching / news ??????C
      - docs snapshot CLI?]T-0007?^?G?w??@???�_?C
      - zh-TW??zh-CN pipeline?G????W??A?|????@?C
      - legacy data root?]T-0006?^?G??????????C
      - WordPress importer / React ?e??G?|???}?l??@?]????[?c?P?c?Q?^?C

- ???\???d??G
  - ??????A?y?z?P?K?n??r?A???j??J?????`???c?C
  - ???R?????J?? T ???A?u??s???A?P?????C

- ?�_?�D?G
  - ?? ChatGPT ?A???\? `PROJECT_TODO.md` ?P `PROJECT_STATUS.md`?A?T?{?G
    - T-0005 ?P teaching ??????@?P???C??B??????A????y?z?C
    - ?U?j???????????z??X??e repo ????@?C
  - ???? workflow ????G
    - `git add` ???????C
    - `git commit -m "T-0012 sync PROJECT_TODO and PROJECT_STATUS with current repo state"`?]?T???i?L??^?C
    - `git push` ?? `origin/main`?C
    - ?b ``docs/Windsurf_ChatGPT_NOTES.md`` ?s?W T-0012 ?????p?`?P commit hash?C

### T-0025 legacy-new-visual-compare-tool?G?��? / AnyContent / ?s????????u??]?��????? index?^

> 狀態：請參考 notes（歷史條目，狀態以最新 notes 為準）
> ???A?G? ?|???}?l?]?????n?O?A????@?^

- ???]?????�eA?^?G
  - ?????u??W???@???p?u??v?G???k???? + ?W??/???? index ?`??C
  - ????G????��????e?A?i?O?J legacy URL?]iframe/?w???^?�c??J???? legacy HTML ????r/2?? render?A?????????��????C
  - ?k??G?i????????]tab/???s?^?A???]?t?G
    - ?s?e????? render?]?Y?w?? React/Next ?????A???? URL ?w???^?C
    - AnyContent JSON ???i????]?????G???D?B????B?U?y?B??? meta ???^?C
    - WordPress ???K?n?]?Y?w??J?Gpost_id?Bslug?Bmeta ???^?C
  - index ?`??G?C?C?O?@?? mapping?A????N?G
    - legacy URL ??????|
    - AnyContent JSON ??|?]?p data/anycontent/zh-tw/teaching/...?^
    - ?s?? URL?]?p???? /teaching/... slug?^
    - WordPress post ID / slug?]?Y?w???^
  - ?I?? index ???@?C??A??/?k??P?B??????????? legacy / ?s?? / JSON / WP ???C

- ?�_???]????A??@??i???^?G
  - [ ] ?��?u??????k????P index?F?k??i?b?u?s?? render / AnyContent JSON / WP ???v?T???????????C
  - [ ] ?????? teaching ?? news ???@?? post_type?A????i?X?R magazine ????L?????C
  - [ ] ?i??U??h??d?G
    - A. ?s?o?????????Y?O?_???T?]URL/slug/post_id ?? mapping?^?C
    - B. ??????O?_???T?]?U?y?B???D?B???e?q?????L?|/?????^?C

- ????G
  - ?? T ??? roadmap ?n?O?A???j???Y??@?F?????}?o?????t?}???? T?]?p T-0030?^?? INSTR ????N??`?C

### T-0026 implement-visual-compare-tool-v1?G?��? / AnyContent / ?s?????u?? v1

> 狀態：請參考 notes（歷史條目，狀態以最新 notes 為準）
> ???A?G? ?w?????]dev ?u??b `/dev/compare`?A?? teaching sample-001?A2025-12-12?^

- ???G
  - ??@?@?? dev ?��?u??A??K?H?u??? legacy / AnyContent / ?s???G
    - ?W??Gindex ?`??]?H data/compare/index.json ??????A?@?C?@?? mapping?^?C
    - ????Glegacy ?w???]?i???????? HTML ?? legacy URL?^?C
    - ?k??G?i???? zh-TW JSON / zh-CN JSON / ?s?? URL?]??i placeholder?^ / WordPress?]??i placeholder?^?C
  - v1 ?E?J teaching sample-001?A????i?X?R??h mapping?C

- ?�_?�D?G
  - [x] `npm run dev` ?i?}?? `/dev/compare`?A??? index + ???k?? layout?C
  - [x] index ?????? `teaching-sample-001`?A?I???G
    - ????i?w?? `data/legacy-teaching/sample-001.html`?C
    - ?k?? zh-TW/zh-CN JSON tab ?i??? AnyContent ?????e?C
    - New page / WordPress ??e?i??? placeholder ?? URL/ID?]?Y????^?C
  - [x] ??????|?P??�f????w?O???b ``docs/Windsurf_ChatGPT_NOTES.md`` ?? T-0026 ?p?`?C

### T-0029 news-sample-and-visual-compare?Gnews ?d?????????X

> 狀態：請參考 notes（歷史條目，狀態以最新 notes 為準）
> ???A?G? ?w?????]news sample-001 end-to-end + dev compare ??s?A2025-12-12?^

- ???G
  - ???@?? news ?d????A?[?\?G
    - legacy HTML?]sample-001?^
    - zh-TW AnyContent JSON?]post_type=news?^
    - zh-CN AnyContent JSON?]pipeline ??X?^
  - ?N??d????J `/dev/compare` ??????u?? index?A?P teaching ?d??aC????C

- ?�_?G
  - [x] `data/legacy-news/sample-001.html` ???e?i?w???]?t???D?B????B?a?I?B????^?C
  - [x] `data/anycontent/zh-tw/news/sample-001.json` ?P `data/anycontent/zh-cn/news/sample-001.json` ???A????X `NewsContent`?A?y????O???T?C
  - [x] `data/compare/index.json` ?s?W `news-sample-001`?A?b `/dev/compare` ?i???aP?B???k?????C
  - [x] `npm test` ?P `npm run build` ?q?L?]?? T-0028 ?W?h?^?C

### T-0030 magazine-sample-and-visual-compare?Gmagazine ?d?????????X

> 狀態：請參考 notes（歷史條目，狀態以最新 notes 為準）
> ???A?G? ?w?????]magazine sample-001 end-to-end + dev compare ??s?A2025-12-12?^

- ???G
  - ???@?? magazine ?d????A?[?\?G
    - legacy HTML?]sample-001?^
    - zh-TW AnyContent JSON?]post_type=magazine?^
    - zh-CN AnyContent JSON?]pipeline ??X?^
  - ?N??d????J `/dev/compare` ??????u?? index?A?P teaching/news ?d??aC????C

- ?�_?G
  - [x] `data/legacy-magazine/sample-001.html` ?i?w???]?t???D?B???O/????B????^?C
  - [x] `data/anycontent/zh-tw/magazine/sample-001.json` ?P `data/anycontent/zh-cn/magazine/sample-001.json` ???A????X `MagazineContent`?A?y????O???T?C
  - [x] `data/compare/index.json` ?s?W `magazine-sample-001`?A?b `/dev/compare` ?i???aP?B???k?????C
  - [x] `npm test` ?P `npm run build` ?q?L?]?? T-0028 ?W?h?^?C
### T-0031 define-anycontent-v1-schema-v1-draft?G??z AnyContent V1 schema ???Z

> 狀態：請參考 notes（歷史條目，狀態以最新 notes 為準）
> ???A?G? ?w?????]???X CONTENT_SCHEMA_V1 ??Z?A2025-12-12?^

- ???G
  - ?J?? teaching/news/magazine ???A???X AnyContent V1 schema ??Z???C
  - ?????@?????P?U post_type ?M?????A?o??O zh-TW / zh-CN ???`?N????C
  - ?????? schema ???????]?Y???}?a???s???t?} T ???Q??^?C

- ?�_?G
  - [x] `docs/CONTENT_SCHEMA_V1.md` ???A?t?@?????B?U post_type ???B?c2???`?N????B?????X?R????C
  - [x] `docs/CONTENT_SCHEMA.md` ??? V1 ??Z??m?C
  - [x] notes ?O????????Z?P RAW ?s???C
### T-0032 refine-anycontent-v1-schema-details?G??? AnyContent V1 schema ?????

> 狀態：請參考 notes（歷史條目，狀態以最新 notes 為準）
> ???A?G? ?w?????]??? teaching/news/magazine ???P?c2???y?z?A2025-12-12?^

- ???G
  - ??{?? TypeScript ?P sample JSON?A??? V1 schema ??Z??????`?C
  - ?M?????U post_type ?M?????A?H?? zh-TW / zh-CN ???d??C
  - ?????? schema ???????A?Y?n?}?a??????t?}???C

- ?�_?G
  - [x] `docs/CONTENT_SCHEMA_V1.md` ?w??W???/?s?D/???x????`?P?c2???`?N????C
  - [x] `docs/CONTENT_SCHEMA.md` ?O?d?a??????o??? V1 ??Z??m?C
  - [x] notes ?O????????Z??s?P RAW ?s???C
### T-0033 plan-future-branch-gallery-index_page inventory+schema templates

> 狀態：⏳ 尚未啟動（僅登記未來規劃，2025-12-12）

- 目標：
  - 為後續可能需要的 branch / gallery / index_page 任務預先規劃「inventory＋schema」類型的模板。
  - 不在本任務內實作實際 inventory 或 schema；僅在 TODO 中記下未來需要的新模板方向。
- 預期模板內容（概念）：
  - 每種類型（branch / gallery / index_page）包含：
    - inventory 步驟（如 crawl/抓取代表頁面、列出檔案清單）。
    - schema 設計步驟（如何從 legacy HTML 抽出 AnyContent/WordPress 欄位）。
    - sample JSON + /dev/compare 對照（若未來需要）。
  - 未來實作時再拆成對應的 T 任務（另開 INSTR）。
  - 驗收（僅登記）：
    - [ ] PROJECT_TODO 已新增本條目，說明未來模板方向。
    - [ ] notes 已紀錄本次登記與 RAW 連結。

### T-0035 add-unclassified-content-flags：新增未分類內容標記欄位

> 狀態：✅ 已完成（schema/workflow/rules 更新，2025-12-12）

- 目標：
  - 在 AnyContent V1 schema 加入共用欄位 `meta.has_unclassified_content`（boolean）與 `meta.unclassified_notes`（string），方便標記暫未分類的內容。
  - 在 HTML→Markdown 規則與 workflow 中說明這兩個欄位的用途：暫時留在 `body_markdown`，必要時以旗標標記，後續再開 T 任務處理。

- 驗收：
  - [x] `docs/CONTENT_SCHEMA_V1.md` 增列兩個欄位說明。
  - [x] `docs/HTML_TO_MARKDOWN_RULES_V4.md` 補充如何搭配旗標使用的 fallback 規則。
  - [x] `docs/WORKFLOW_CHATGPT_GITHUB_AGENT.md` 提醒 adapter 編輯時可視需要設定旗標。
  - [x] notes 紀錄本次規則更新與 RAW 連結。

### T-0036 compare-unclassified-flag：在 /dev/compare 顯示 has_unclassified_content

> 狀態：✅ 已完成（/dev/compare 支援旗標與篩選，2025-12-12）

- 目標：
  - `/dev/compare` 的 index 列表能讀取 AnyContent zh-TW JSON 的 `meta.has_unclassified_content` / `meta.unclassified_notes`：
    - 標示 badge（unclassified）。
    - 提供「只顯示未分類」篩選。
  - 右欄（New/JSON/WP）在切換到有旗標的項目時，顯示提示卡與 `unclassified_notes` 內容。
  - 至少有一個 sample（magazine sample-001）示範 `meta.has_unclassified_content = true`。

- 驗收：
  - [x] `/dev/compare` index 可看到 has_unclassified_content badge 與 filter。
  - [x] 點選有旗標的項目，右欄顯示提示卡與 notes。
  - [x] `npm test`、`npm run build` 通過；變更記錄在 notes，含 RAW 連結。

### T-0037 sync-html-to-markdown-unknown-content：補回未分類內容簡述到 V4

> 狀態：✅ 已完成（HTML_TO_MARKDOWN_RULES_V4 已補簡述段落，2025-12-12）

- 目標：
  - 在 `docs/HTML_TO_MARKDOWN_RULES_V4.md` 補上一段「無法歸類內容的暫存處理（簡版）」：
    - 無對應欄位的內容先留 `body_markdown`，暫不新增 meta 欄位。
    - 視需要設定 `meta.has_unclassified_content` / `meta.unclassified_notes`。
    - 保留 `old_url` 與 legacy HTML 以便對照。
  - 與 `CONTENT_SCHEMA_V1`、workflow 的相關敘述對齊。

- 驗收：
  - [x] `docs/HTML_TO_MARKDOWN_RULES_V4.md` 可見上述簡述段落。
  - [x] PROJECT_TODO / notes 已記錄本次 docs-only 調整。

### T-0034 unknown-content-handling-rule：新增「未知內容暫存」規則

> 狀態：✅ 已完成（rule 已寫入 HTML_to_MD / workflow，2025-12-12）

- 目標：
  - 在 HTML→Markdown / AnyContent 規則與 workflow 中，明定「無法歸類內容」的處理方式。
  - 避免任意新增 meta 欄位，優先放入 `body_markdown`，保留 legacy 對照，必要時另開 T 任務。

- 驗收：
  - [x] `docs/HTML_TO_MARKDOWN_RULES_V4.md` 新增未知內容 fallback 段落。
  - [x] `docs/WORKFLOW_CHATGPT_GITHUB_AGENT.md` 加入 adapter 編輯時需遵守的未知內容處理提醒。
  - [x] notes 記錄本次規則更新與 RAW 連結。

### T-0038 zh-cn-health-check-cli：實作 zh-TW / zh-CN JSON 健康檢查工具

> 狀態：✅ 已完成（CLI 已可掃描 zh-TW/zh-CN JSON 並輸出健康檢查報表，2025-12-12）

- 目標：
  - 掃描 `data/anycontent/zh-tw/**.json` 對應的 `data/anycontent/zh-cn/**.json`，檢查成對存在與基本欄位一致性。
  - 檢查必填欄位：`post_type`、`slug`、`old_url`、`language`。
  - 依 `ZH_TW_TO_ZH_CN_PIPELINE.md` 的欄位白名單檢查 zh-CN 是否含必要可轉換欄位（post_title/post_excerpt/body_markdown/SEO/Meta string 欄位）。
  - 以簡易報表列出 ERROR / WARN，並透過 exit code 反映結果。

- 驗收：
  - [x] `tools/convert/check-zh-cn-health.ts` 建立，`npm run check:zh-cn` 可執行。
  - [x] 針對現有 sample（teaching/news/magazine）可跑出健康檢查報表。
  - [x] 有 ERROR 時 exit code = 1，無 ERROR 僅 WARN 或無問題時 exit code = 0。
  - [x] PROJECT_TODO / notes 記錄本次 docs 及 CLI 更新。

### T-0039 zh-cn-health-check-in-workflow：把 zh-CN 健康檢查加入 workflow / checklist

> 狀態：✅ 已完成（已更新 workflow / checklist，2025-12-12）

- 目標：
  - 在 workflow / session checklist 中寫明：凡觸及 zh-CN JSON / pipeline，需執行 `npm run check:zh-cn`，並在有 ERROR 時停止 push、先修復或開 T 任務處理。

- 驗收：
  - [x] `docs/WORKFLOW_CHATGPT_GITHUB_AGENT.md` 已加入 check:zh-cn 相關提醒。
  - [x] `docs/SESSION_CHECKLIST.md` 已加入 check:zh-cn 的收工檢查項。
  - [x] PROJECT_TODO / notes 已記錄本次 docs-only 調整。
### T-0040 instr-template-files-for-chatgpt：INSTR 模板加上給 ChatGPT 的檔案清單提醒

> 狀態：✅ 已完成（更新 INSTR 模板與 workflow，2025-12-12）

- 目標：
  - 在 ``docs/INSTR/INSTR-TEMPLATE.md`` 補充「給 ChatGPT review 的檔案清單」區塊，提醒列出需檢閱檔案並避免 citation。
  - 在 workflow 中提示撰寫 INSTR 時需列檔案清單、避免 citation，並指向相關 docs。

- 驗收：
  - [x] INSTR 模板已加入檔案清單與 RAW 提醒。
  - [x] `docs/WORKFLOW_CHATGPT_GITHUB_AGENT.md` 已新增撰寫 INSTR 的注意事項。
  - [x] notes 已記錄本次 docs-only 更新。

### T-0041 teaching-batch-from-crawl-pilot：crawl 教學小批次暫停（blocked）

> 狀態：⛔ blocked（缺少實際教學頁 HTML，2025-12-12）

- 目標（原計畫，暫停中）：
  - 從 crawl CSV 挑 3–5 筆教學頁，產出 legacy HTML → zh-tw AnyContent → zh-cn AnyContent，並掛入 `/dev/compare`。

- 目前阻礙：
  - repo 只有 `data/legacy-teaching/sample-001.html`，沒有其他實際教學頁。
  - `data/crawl/*.csv` 目前只有索引頁 URL（如 `/turn/lecture/index.htm`、`/turn/sutra/index.htm`），沒有實際內容頁。
  - 嘗試抓取 `https://www.ctworld.org/turn/teaching/index.htm` 類型網址僅得到 404/廣告頁，依 workflow 不應自行對外爬資料。

- 解法方向（待解鎖後再啟動）：
  - 請使用者提供 3–5 個實際教學頁的 legacy HTML（放入 `data/legacy-teaching/*.html`），或等待 T-0006 舊站備份完成。
  - 取得實際 HTML 後再恢復本任務，重新跑轉換與 `npm run check:zh-cn`、更新 `/dev/compare`。

### T-0043 workflow-safety-level-note：在 workflow 加入安全等級說明

> 狀態：✅ 已完成（補充 safety levels、RAW、審核提醒，2025-12-12）

- 目標：
  - 在 `docs/WORKFLOW_CHATGPT_GITHUB_AGENT.md` 補充「Safety levels」：  
    - code / tools / tests / data 任務收尾前必跑 `npm test` + `npm run build`。  
    - 牽涉 zh-CN JSON 再跑 `npm run check:zh-cn`，有 ERROR 需修復或開 T 任務再 push。  
    - RAW 讀不到時停止推論，請使用者提供檔案或 snapshot。  
    - schema / mapping 調整需先寫 docs 並由 ChatGPT review 後再實作。
  - 更新 notes 記錄本次補充。

- 驗收：
  - [x] workflow 已新增 safety levels 段落，涵蓋 test/build/zh-CN/RAW/審核規則。
  - [x] notes 中有對應 T-0043 小節記錄本次更新。

### T-0044 cleanup-project_todo-header-and-structure：整理 PROJECT_TODO 檔頭與結構

> 狀態：✅ 已完成（檔頭改為清晰說明、調整結構，2025-12-12）

- 目標：
  - 清除 `docs/PROJECT_TODO.md` 開頭亂碼與歷史殘留，改為簡單可讀的檔頭說明。
  - 輕度整理結構：各 T 條目都有標題、狀態行，並梳理重複或格式不一的段落。
  - 以 notes 為真相來源，維持內容不改寫，只改善排版可讀性。

- 驗收：
  - [x] PROJECT_TODO 檔頭已改為乾淨、易懂的說明。
  - [x] T 條目的標題／狀態行與段落格式整理完畢（必要時以 notes 為準）。
  - [x] notes 中新增 T-0044 小節並附 RAW 連結。
