---
import { fetchAnyContentList } from "../../../lib/directus";
const { lang, type } = Astro.params;
const items = await fetchAnyContentList({ lang, type });
---

<html lang={lang}>
  <head>
    <title>{type} index</title>
  </head>
  <body>
    <h1>{type} index ({lang})</h1>
    {items.length === 0 ? (
      <p>尚無資料（或 Directus 尚未連線）。</p>
    ) : (
      <ul>
        {items.map((item) => (
          <li>
            <strong>{item.title}</strong> ｜ {item.published_at}
          </li>
        ))}
      </ul>
    )}
  </body>
</html>
